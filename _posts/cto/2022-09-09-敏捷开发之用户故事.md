---
layout:       post
title:        "敏捷开发之用户故事"
author:       "Libing"
header-style: text
catalog:      true
tags:
    - 敏捷开发

    
---

> 如何用用户故事来评估一个敏捷项目，以及如何使用用户故事

在软件开发领域，如何能有效掌控项目及进度，如何驱动组织成员高效的达成目标。
如何拆解团队目标，理清方向，搭建机制，才能使团队力量更加高效的流转，最终达成组织目标。一直是一个值得探索的问题，也是大家一直在
探索的问题。

在看《阿米巴经营》这本书的过程中，我也一直在思考这个话题。虽然阿米巴经营是以制造生产业的视角来描述的，无法直接照搬，但是它的一些理念
还是可以借鉴的。比如如何划分"阿米巴"团队，如何计算"单位时间核算表"，如何让每一个阿米巴都茁壮成长。从1968年软件工程出现到现今，软件
研发经历了敏捷开发、Devops两次革命后，我们应该能达到单位效能的最大化以及量化整个开发过程中的各个节点。

在看书的过程中，还一度认为软件开发可以按微服务来组织"阿米巴"，但是最终觉得也无法落地。一方面是微服务大小的差别，另外也无法通过
微服务来具体量化考量工作量和成果。现在看来，一个用户故事反而更像一个特殊的"阿米巴"！

结合最近看的《持续交付2.0》一书中提到的用户故事，认为目前oohforce的迭代开发方法不完善，更多的只是将原来的一个大瀑布研发流程
改进为多个小瀑布的研发流程。而持续交付的需求拆分总原则是："坚持以业务视角对需求进行分解"。


### 用户故事

在我看来，从需求到产品设计，再到软件研发的过程中，实际上就像是微服务开发中的防腐层一样，要进行各自领域的转换。而承载转换任务的就是
今天要说的第一点"用户故事"。

什么是用户故事？
用户故事（User Story）简单但功能强大，是对需要实现的单一功能的一句话描述。它描述了用户角色，需要执行的功能以及所需的结果。编写这些故事是描述我们想要开发的内容的敏捷方式。

用户故事的优点在于它用简单的文字书写。因此，即使您没有软件需求管理或项目管理方面的技术背景或经验，也可以编写一个，因为您可以在不深入研究技术细节的情况下描述应用程序的高级需求。

用户故事对于从用户的角度捕获所需功能至关重要。它们还可以帮助您向团队的所有成员传达做出某些决策的内容，方式和原因 – 即使该团队仅由一名开发人员组成。通过用简单的词语描述期望，您还可以使非技术团队成员（如设计人员，QA工程师和客户支持专家）也参与进来。

如何编写用户故事，这点不深入描述，网上有很多资料。这里只想强调一点，用户故事不建议超过2天，如果时间较长，则还需要进行拆解。

### 用户故事拆分

INVEST原则是用于检测用户故事是否拆分得当的6个原则。
independent（独立）：用户故事必须彼此独立，低耦合
negotiable（可协商）：在进入开发前，故事卡用来提醒团队和干系人要进行讨论，而不是直接作为产品人员与开发人员之间的契约来使用
valuable（有价值）：用户故事对用户或客户来讲必须是重要的，有价值的。
estimable（可估算）：开发团队必须能够估算创建用户故事所需的工作量。
Small & similar size（规模小切适中）用户故事必须足够小，尽可能要在一个迭代内完成（建议用户故事的开发工作量应该少于3个工作日）并且多个用户故事之间的开发量不宜差异过大。
你对足球提及的估算偏差一定远远小于对月亮体积的估算偏差。
testable（可验证）：用户故事必须是可以被验证的。
    
在现实工作中，的确会存在一小部分非常复杂的用户需求，很难完全满足这6个原则。在这种情况下，可以做一些妥协，但至少要满足可估算、规模小且可验证，
即EST>INV。事实上，这种分解后的小需求已经称为一个符合SMART原则的任务，即具体的（specific）、可衡量的（measurable）、可达成的（achievable）
、相关的（relevant）、有时间限定的（time bound）。

### 用户故事点

编写完用户故事后，即可开始评估工作。
以往我们都倾向于通过评估完成用户故事所需的时间来预估。不幸的是，这种方法不起作用 – 实际开发部署的时间经常会超出预估，至少不会低于预估。
如果部分用户故事超时，整个计划都会偏离预期。有些故事依赖于其他故事，导致更多延迟，迫使开发人员一次处理多个故事。
结果，整个评估最终被“关闭”，项目比预期长两到三倍。

因此，我们需要承认软件项目的高度不确定性。不是要去估计用户故事的持续时间，最好估计实现它们所需付出的努力。

这是最简单的方法：
只需给你的用户故事从1-3分打分。也就是对故事的复杂性进行排序 – 简单的是1，普通是2，复杂是3。你甚至可以将故事评为0，几乎不需要任何努力，例如更改设置或更新设计。

故事点（Story Point）最大的优点是：它们是相对的。因此，一旦您将用户故事定义为简单，您就可以将其与另一个用户故事进行比较，以确定它是否具有相同，更低或更高的复杂性。

### 用户故事点的意义

根据故事点评估团队的进展速度，
你可能会怀疑故事点是否有任何意义。毕竟，故事点无法（直接）用来评估项目的周期或预算。请看下面的分析。

如果是外包项目， 你可以通过衡量团队在每个Sprint中完成的故事点数来进一步评估项目所需时间。也就是对所谓“团队的速度”的评估。
您对项目了解得越深入，就能愈加准确地计算团队每个sprint完成的平均故事点数。
将故事点总数除以“团队的速度”（每次Sprint完成的平均故事点数量），乘以Sprint平均时间，您将可以大致估算整个项目的时间。
简单地说？如果你的团队每个sprint的可以完成三个正常故事（2分难度）和一个复杂的故事（3分难度），那么你将需要34个冲刺来完成一个300分的项目。

如果是产品项目，也就是不需要评估整体项目时间的话。那么我们可以通过用户故事点完成两件事情：
1. 实施敏捷开发；
2. 成员贡献评估；
先说第一点，敏捷开发以用户故事为前提，所有的研发工作内容以用户故事的角色进入协作平台。这样达成了多个细小管道（每个管道不同的负责人）并发执行的过程，从而提高生产力。
其次是每个用户故事最多在3天内完成，则研发人员对自己的工作一清二楚，也能够作出更准确和清晰的计划。

关于第二点，用户故事点作为数据驱动，能够大致体现每个成员的贡献值，也激励了成员解决问题的效率，
这对于结果导向的客观评估也极具参考性。也许你可以使用这种方式来评估你的成员输出能力，给予鼓励和激励。

敏捷开发还包括很多其他的内容，如CI/CD，这些不在本文描述范围内。